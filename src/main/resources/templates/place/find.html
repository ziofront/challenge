<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>find form</title>
    <script src="/webjars/jquery/2.2.4/dist/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#btnFind').click(function() {

                /*
                    이 방법 말고... 좀더 쌔련된 방법이 필요해..
                */

                $.ajax({
                    url: '/api/place/find'
                    , async: true
                    , type: 'GET'
                    , data: {
                        // 전송할 데이터
                        keyword : $('#keyword').val()
                        //, Age: '10'
                    }
                    , dataType: 'json' // xml, json, script, html
                    , beforeSend: function(jqXHR) {
                        // 서버 요청 전 호출 되는 함수 return false; 일 경우 요청 중단
                    }
                    , success: function(result) {
                        // 요청 완료 시
                        $.each(result.placeList, function(idx, place){
                            console.log(idx + " " + place.name + " " + place.y + " " + place.x);

                            var _url = "http://map.daum.net/link/map/" + place.name + "," + place.y + "," + place.x;

					        $('#divFindResult ul').append('<li>' + place.name + ' <a target="_blank" href="' + _url + '">[지도 바로가기]</a></li>');
		                });
                    }
                    , error: function(jqXHR) {
                        // 요청 실패
                    }
                    , complete: function(jqXHR) {
                        // 요청의 실패, 성공과 상관 없이 완료 될 경우 호출
                    }
                });
            });
        });
    </script>

</head>
<body>

    <form class="find-form" method="POST">

        <div class="row">
            <div class="input-field col s12">
                <input id="keyword" type="text" name="keyword" class="validate"/>
                <label for="keyword">장소검색</label>
            </div>
        </div>

    </form>

    <input id="btnFind" class="login-btn waves-effect waves-light btn" type="button" value="검색"/>

    <div id="divFindResult"><ul></ul></div>


</body>
</html>